MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ cd ConfigMaps/ConfigMapEnvFile.png 
bash: cd: ConfigMaps/ConfigMapEnvFile.png: Not a directory
MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ cd ConfigMaps/ConfigMapsExample/
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ docker build . -t node-configmap
Sending build context to Docker daemon  3.584kB
Step 1/4 : FROM node:alpine
 ---> 4c6406de22fd
Step 2/4 : LABEL author="Dan Wahlin"
 ---> Using cache
 ---> ea69966192b4
Step 3/4 : COPY server.js /server.js
 ---> 6e97eec5f20c
Step 4/4 : ENTRYPOINT ["node", "server.js"]
 ---> Running in 85401f0e0700
Removing intermediate container 85401f0e0700
 ---> 3e3158362589
Successfully built 3e3158362589
Successfully tagged node-configmap:latest
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k create configmap app-settings --from-env-file=settings.config
configmap/app-settings created
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get configmap
NAME           DATA   AGE
app-settings   4      39s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get cm -o yaml
apiVersion: v1
items:
- apiVersion: v1
  data:
    enemies: aliens
    enemies.cheat: "true"
    enemies.cheat.level: noGoodRotten
    lives: "3"
  kind: ConfigMap
  metadata:
    creationTimestamp: "2019-10-13T17:36:29Z"
    name: app-settings
    namespace: default
    resourceVersion: "67030"
    selfLink: /api/v1/namespaces/default/configmaps/app-settings
    uid: fd4b266c-eddf-11e9-b152-025000000001
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k apply Deployment.yml 
error: must specify one of -f and -k
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k apply -f Deployment.yml 
deployment.apps/node-configmap created
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get deployments
NAME               READY   UP-TO-DATE   AVAILABLE   AGE
my-nginx           2/2     2            2           28h
nginx-standalone   1/1     1            1           7h41m
node-app           1/1     1            1           26h
node-configmap     0/1     1            0           8s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get all
NAME                                    READY   STATUS             RESTARTS   AGE
pod/docker-volume                       1/1     Running            0          3h57m
pod/my-busy-box                         0/1     CrashLoopBackOff   149        4d4h
pod/my-nginx                            1/1     Running            1          4d5h
pod/my-nginx-5975c9f858-l4769           1/1     Running            0          28h
pod/my-nginx-5975c9f858-zzq24           1/1     Running            0          28h
pod/nginx-alpine-volume                 2/2     Running            0          4h5m
pod/nginx-standalone-77d6656d95-snpgg   1/1     Running            0          7h41m
pod/node-app-6fcfc897d6-5p5v2           1/1     Running            0          26h
pod/node-configmap-794664596b-995h9     0/1     Pending            0          19s

NAME                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
service/kubernetes        ClusterIP   10.96.0.1        <none>        443/TCP        8d
service/nginx-clusterip   ClusterIP   10.109.217.179   <none>        8080/TCP       7h33m
service/nginx-nodeport    NodePort    10.105.221.182   <none>        80:31000/TCP   5h22m

NAME                               READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/my-nginx           2/2     2            2           28h
deployment.apps/nginx-standalone   1/1     1            1           7h41m
deployment.apps/node-app           1/1     1            1           26h
deployment.apps/node-configmap     0/1     1            0           19s

NAME                                          DESIRED   CURRENT   READY   AGE
replicaset.apps/my-nginx-5975c9f858           2         2         2       28h
replicaset.apps/nginx-standalone-77d6656d95   1         1         1       7h41m
replicaset.apps/node-app-6694c56467           0         0         0       26h
replicaset.apps/node-app-6fcfc897d6           1         1         1       26h
replicaset.apps/node-app-9467ddbbf            0         0         0       26h
replicaset.apps/node-configmap-794664596b     1         1         0       19s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get pods
NAME                                READY   STATUS             RESTARTS   AGE
docker-volume                       1/1     Running            0          3h58m
my-busy-box                         0/1     CrashLoopBackOff   149        4d4h
my-nginx                            1/1     Running            1          4d5h
my-nginx-5975c9f858-l4769           1/1     Running            0          28h
my-nginx-5975c9f858-zzq24           1/1     Running            0          28h
nginx-alpine-volume                 2/2     Running            0          4h5m
nginx-standalone-77d6656d95-snpgg   1/1     Running            0          7h42m
node-app-6fcfc897d6-5p5v2           1/1     Running            0          26h
node-configmap-794664596b-995h9     0/1     Pending            0          40s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k describe pod node-configmap-794664596b-995h9  
Name:               node-configmap-794664596b-995h9
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               <none>
Labels:             app=node-configmap
                    pod-template-hash=794664596b
Annotations:        <none>
Status:             Pending
IP:                 
Controlled By:      ReplicaSet/node-configmap-794664596b
Containers:
  node-configmap:
    Image:      <Image>
    Port:       <none>
    Host Port:  <none>
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:     500m
      memory:  128Mi
    Environment Variables from:
      app-settings  ConfigMap  Optional: false
    Environment:
      ENEMIES:  <set to the key 'enemies' of config map 'app-settings'>  Optional: false
    Mounts:
      /etc/config from app-config-vol (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-sz4rq (ro)
Conditions:
  Type           Status
  PodScheduled   False 
Volumes:
  app-config-vol:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      app-settings
    Optional:  false
  default-token-sz4rq:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-sz4rq
    Optional:    false
QoS Class:       Guaranteed
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason            Age   From               Message
  ----     ------            ----  ----               -------
  Warning  FailedScheduling  56s   default-scheduler  0/1 nodes are available: 1 Insufficient cpu.
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k delete deployment my-nginx
deployment.extensions "my-nginx" deleted
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k delete deployment node-app
deployment.extensions "node-app" deleted
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k delete deployment nginx-standalone
deployment.extensions "nginx-standalone" deleted
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get all
NAME                                  READY   STATUS             RESTARTS   AGE
pod/docker-volume                     1/1     Running            0          3h59m
pod/my-busy-box                       0/1     CrashLoopBackOff   149        4d4h
pod/my-nginx                          1/1     Running            1          4d5h
pod/nginx-alpine-volume               2/2     Running            0          4h7m
pod/node-app-6fcfc897d6-5p5v2         1/1     Terminating        0          26h
pod/node-configmap-794664596b-995h9   0/1     InvalidImageName   0          2m24s

NAME                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
service/kubernetes        ClusterIP   10.96.0.1        <none>        443/TCP        8d
service/nginx-clusterip   ClusterIP   10.109.217.179   <none>        8080/TCP       7h35m
service/nginx-nodeport    NodePort    10.105.221.182   <none>        80:31000/TCP   5h24m

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/node-configmap   0/1     1            0           2m24s

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/node-configmap-794664596b   1         1         0       2m24s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ docker images
REPOSITORY                           TAG                 IMAGE ID            CREATED             SIZE
node-configmap                       latest              3e3158362589        15 minutes ago      80.8MB
node-app                             2.0                 3086fc369ec8        26 hours ago        80.8MB
node-app                             3.0                 eaab907030de        27 hours ago        80.8MB
node-app                             1.0                 104274e8a011        27 hours ago        80.8MB
node-app                             latest              104274e8a011        27 hours ago        80.8MB
docker                               latest              23fb2c9b38b5        3 days ago          216MB
node                                 alpine              4c6406de22fd        5 days ago          80.8MB
mongo                                latest              58477a771fb4        10 days ago         361MB
nginx                                alpine              4d3c246dfef2        2 weeks ago         21.2MB
kubernetesui/dashboard               v2.0.0-beta4        6802d83967b9        6 weeks ago         84MB
alpine                               latest              961769676411        7 weeks ago         5.58MB
k8s.gcr.io/kube-proxy                v1.14.6             ed8adf767eeb        7 weeks ago         82.1MB
k8s.gcr.io/kube-apiserver            v1.14.6             0e422c9884cf        7 weeks ago         209MB
k8s.gcr.io/kube-scheduler            v1.14.6             d27987bc993e        7 weeks ago         81.6MB
k8s.gcr.io/kube-controller-manager   v1.14.6             4bb274b1f2c3        7 weeks ago         157MB
kubernetesui/metrics-scraper         v1.0.1              709901356c11        3 months ago        40.1MB
docker/kube-compose-controller       v0.4.23             a8c3d87a58e7        4 months ago        35.3MB
docker/kube-compose-api-server       v0.4.23             f3591b2cb223        4 months ago        49.9MB
k8s.gcr.io/coredns                   1.3.1               eb516548c180        9 months ago        40.3MB
k8s.gcr.io/etcd                      3.3.10              2c4adeb21b4f        10 months ago       258MB
k8s.gcr.io/pause                     3.1                 da86e6ba6ca1        22 months ago       742kB
k8s.gcr.io/busybox                   latest              e7d168d7db45        4 years ago         2.43MB
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k apply -f Deployment.yml 
deployment.apps/node-configmap configured
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get all 
NAME                                  READY   STATUS             RESTARTS   AGE
pod/docker-volume                     1/1     Running            0          4h
pod/my-busy-box                       1/1     Running            150        4d4h
pod/my-nginx                          1/1     Running            1          4d5h
pod/nginx-alpine-volume               2/2     Running            0          4h8m
pod/node-configmap-794664596b-995h9   0/1     InvalidImageName   0          3m22s
pod/node-configmap-848b4989fd-rgw9d   0/1     Pending            0          4s

NAME                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
service/kubernetes        ClusterIP   10.96.0.1        <none>        443/TCP        8d
service/nginx-clusterip   ClusterIP   10.109.217.179   <none>        8080/TCP       7h36m
service/nginx-nodeport    NodePort    10.105.221.182   <none>        80:31000/TCP   5h25m

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/node-configmap   0/1     1            0           3m22s

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/node-configmap-794664596b   1         1         0       3m22s
replicaset.apps/node-configmap-848b4989fd   1         1         0       4s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k describe deployment node-configmap
Name:                   node-configmap
Namespace:              default
CreationTimestamp:      Sun, 13 Oct 2019 13:45:54 -0400
Labels:                 <none>
Annotations:            deployment.kubernetes.io/revision: 2
                        kubectl.kubernetes.io/last-applied-configuration:
                          {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"name":"node-configmap","namespace":"default"},"spec":{"selector"...
Selector:               app=node-configmap
Replicas:               1 desired | 1 updated | 2 total | 0 available | 2 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:  app=node-configmap
  Containers:
   node-configmap:
    Image:      node-configmap
    Port:       <none>
    Host Port:  <none>
    Limits:
      cpu:     500m
      memory:  128Mi
    Environment Variables from:
      app-settings  ConfigMap  Optional: false
    Environment:
      ENEMIES:  <set to the key 'enemies' of config map 'app-settings'>  Optional: false
    Mounts:
      /etc/config from app-config-vol (rw)
  Volumes:
   app-config-vol:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      app-settings
    Optional:  false
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      False   MinimumReplicasUnavailable
  Progressing    True    ReplicaSetUpdated
OldReplicaSets:  node-configmap-794664596b (1/1 replicas created)
NewReplicaSet:   node-configmap-848b4989fd (1/1 replicas created)
Events:
  Type    Reason             Age    From                   Message
  ----    ------             ----   ----                   -------
  Normal  ScalingReplicaSet  3m54s  deployment-controller  Scaled up replica set node-configmap-794664596b to 1
  Normal  ScalingReplicaSet  36s    deployment-controller  Scaled up replica set node-configmap-848b4989fd to 1
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get all
NAME                                  READY   STATUS             RESTARTS   AGE
pod/docker-volume                     1/1     Running            0          4h1m
pod/my-busy-box                       1/1     Running            151        4d5h
pod/my-nginx                          1/1     Running            1          4d5h
pod/nginx-alpine-volume               2/2     Running            0          4h9m
pod/node-configmap-794664596b-995h9   0/1     InvalidImageName   0          4m13s
pod/node-configmap-848b4989fd-rgw9d   0/1     Pending            0          55s

NAME                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
service/kubernetes        ClusterIP   10.96.0.1        <none>        443/TCP        8d
service/nginx-clusterip   ClusterIP   10.109.217.179   <none>        8080/TCP       7h37m
service/nginx-nodeport    NodePort    10.105.221.182   <none>        80:31000/TCP   5h26m

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/node-configmap   0/1     1            0           4m13s

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/node-configmap-794664596b   1         1         0       4m13s
replicaset.apps/node-configmap-848b4989fd   1         1         0       55s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k delete pod node-configmap-794664596b-995h9 
pod "node-configmap-794664596b-995h9" deleted
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k describe pod node-configmap-848b4989fd-rgw9d 
Name:               node-configmap-848b4989fd-rgw9d
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               docker-desktop/192.168.65.3
Start Time:         Sun, 13 Oct 2019 13:50:23 -0400
Labels:             app=node-configmap
                    pod-template-hash=848b4989fd
Annotations:        <none>
Status:             Running
IP:                 10.1.0.60
Controlled By:      ReplicaSet/node-configmap-848b4989fd
Containers:
  node-configmap:
    Container ID:   docker://987c9976bf7496377d2482fd92f3d87b6419ae8f58921dfee3d052094960cac1
    Image:          node-configmap
    Image ID:       docker://sha256:3e31583625896ea14d17a46883f017d7a0e28b285c3ed1a1cbf275bfaa94513a
    Port:           <none>
    Host Port:      <none>
    State:          Running
      Started:      Sun, 13 Oct 2019 13:50:25 -0400
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:     500m
      memory:  128Mi
    Environment Variables from:
      app-settings  ConfigMap  Optional: false
    Environment:
      ENEMIES:  <set to the key 'enemies' of config map 'app-settings'>  Optional: false
    Mounts:
      /etc/config from app-config-vol (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-sz4rq (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  app-config-vol:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      app-settings
    Optional:  false
  default-token-sz4rq:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-sz4rq
    Optional:    false
QoS Class:       Guaranteed
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason            Age                From                     Message
  ----     ------            ----               ----                     -------
  Warning  FailedScheduling  13s (x3 over 82s)  default-scheduler        0/1 nodes are available: 1 Insufficient cpu.
  Normal   Scheduled         11s                default-scheduler        Successfully assigned default/node-configmap-848b4989fd-rgw9d to docker-desktop
  Normal   Pulled            10s                kubelet, docker-desktop  Container image "node-configmap" already present on machine
  Normal   Created           10s                kubelet, docker-desktop  Created container node-configmap
  Normal   Started           9s                 kubelet, docker-desktop  Started container node-configmap
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k get all
NAME                                  READY   STATUS    RESTARTS   AGE
pod/docker-volume                     1/1     Running   0          4h2m
pod/my-busy-box                       1/1     Running   151        4d5h
pod/my-nginx                          1/1     Running   1          4d5h
pod/nginx-alpine-volume               2/2     Running   0          4h9m
pod/node-configmap-848b4989fd-rgw9d   1/1     Running   0          107s

NAME                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
service/kubernetes        ClusterIP   10.96.0.1        <none>        443/TCP        8d
service/nginx-clusterip   ClusterIP   10.109.217.179   <none>        8080/TCP       7h38m
service/nginx-nodeport    NodePort    10.105.221.182   <none>        80:31000/TCP   5h26m

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/node-configmap   1/1     1            1           5m5s

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/node-configmap-794664596b   0         0         0       5m5s
replicaset.apps/node-configmap-848b4989fd   1         1         1       107s
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k port-forward node-configmap-848b4989fd-rgw9d 9000
Forwarding from 127.0.0.1:9000 -> 9000
Forwarding from [::1]:9000 -> 9000
Handling connection for 9000
Handling connection for 9000
^CMACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ k exec node-configmap-848b4989fd-rgw9d -it sh
/ # ls
bin        etc        lib        mnt        proc       run        server.js  sys        usr
dev        home       media      opt        root       sbin       srv        tmp        var
/ # cd etc/config
/etc/config # ls
enemies              enemies.cheat        enemies.cheat.level  lives
/etc/config # cat enemies
aliens/etc/config # env
NGINX_CLUSTERIP_PORT_8080_TCP_PROTO=tcp
KUBERNETES_SERVICE_PORT=443
KUBERNETES_PORT=tcp://10.96.0.1:443
NGINX_NODEPORT_SERVICE_PORT=80
NGINX_NODEPORT_PORT=tcp://10.105.221.182:80
NGINX_CLUSTERIP_PORT=tcp://10.109.217.179:8080
NGINX_CLUSTERIP_SERVICE_PORT=8080
NODE_VERSION=12.11.1
HOSTNAME=node-configmap-848b4989fd-rgw9d
YARN_VERSION=1.19.0
SHLVL=1
HOME=/root
OLDPWD=/
NGINX_NODEPORT_PORT_80_TCP_ADDR=10.105.221.182
NGINX_CLUSTERIP_PORT_8080_TCP=tcp://10.109.217.179:8080
NGINX_NODEPORT_PORT_80_TCP_PORT=80
NGINX_NODEPORT_PORT_80_TCP_PROTO=tcp
lives=3
TERM=xterm
enemies=aliens
KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
NGINX_NODEPORT_PORT_80_TCP=tcp://10.105.221.182:80
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
KUBERNETES_PORT_443_TCP_PORT=443
ENEMIES=aliens
KUBERNETES_PORT_443_TCP_PROTO=tcp
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
enemies.cheat.level=noGoodRotten
NGINX_NODEPORT_SERVICE_HOST=10.105.221.182
KUBERNETES_SERVICE_HOST=10.96.0.1
PWD=/etc/config
enemies.cheat=true
NGINX_CLUSTERIP_PORT_8080_TCP_ADDR=10.109.217.179
NGINX_CLUSTERIP_SERVICE_HOST=10.109.217.179
NGINX_CLUSTERIP_PORT_8080_TCP_PORT=8080
/etc/config # exit
MACC02RR83AG8WP:ConfigMapsExample vijayvepakomma$ 