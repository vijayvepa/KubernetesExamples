MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ mongo
MongoDB shell version v3.4.10
connecting to: mongodb://127.0.0.1:27017
2019-10-13T14:42:15.779-0400 E QUERY    [thread1] Error: network error while attempting to run command 'whatsmyuri' on host '127.0.0.1:27017'  :
connect@src/mongo/shell/mongo.js:237:13
@(connect):1:6
exception: connect failed
MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ kubectl create secret generic db-passwords --from-literal=db-password='password' --from-literal=db-root-password='password'
Error from server (AlreadyExists): secrets "db-passwords" already exists
MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ k delete secret db-passwords
secret "db-passwords" deleted
MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ kubectl create secret generic db-passwords --from-literal=db-password='password' --from-literal=db-root-password='password'
secret/db-passwords created
MACC02RR83AG8WP:KubernetesExamples vijayvepakomma$ cd Secrets/SecretsExample/
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k delete MongoDBDeployment.yml 
error: resource(s) were provided, but no name, label selector, or --all flag specified
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k delete -f  MongoDBDeployment.yml 
configmap "mongo-secrets-env" deleted
storageclass.storage.k8s.io "local-storage" deleted
persistentvolume "mongo-pv" deleted
persistentvolumeclaim "mongo-pvc" deleted
statefulset.apps "mongo" deleted
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ rm -rf /tmp/data/db
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ ls /tmp/data/db
ls: /tmp/data/db: No such file or directory
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ ls /tmp/data
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ mkdir /tmp/data/db
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k apply -f MongoDBDeployment.yml 
configmap/mongo-secrets-env created
storageclass.storage.k8s.io/local-storage created
persistentvolume/mongo-pv created
persistentvolumeclaim/mongo-pvc created
statefulset.apps/mongo created
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k exec mongo-0 -it sh
# mongo
MongoDB shell version v4.2.0
connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&gssapiServiceName=mongodb
2019-10-13T18:49:25.967+0000 I  NETWORK  [js] DBClientConnection failed to receive message from 127.0.0.1:27017 - HostUnreachable: Connection reset by peer
2019-10-13T18:49:25.975+0000 E  QUERY    [js] Error: network error while attempting to run command 'isMaster' on host '127.0.0.1:27017'  :
connect@src/mongo/shell/mongo.js:341:17
@(connect):2:6
2019-10-13T18:49:25.979+0000 F  -        [main] exception: connect failed
2019-10-13T18:49:25.979+0000 E  -        [main] exiting with code 1
# exit
command terminated with exit code 1
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k get all
NAME                                  READY   STATUS    RESTARTS   AGE
pod/docker-volume                     1/1     Running   1          5h1m
pod/mongo-0                           1/1     Running   0          51s
pod/my-busy-box                       1/1     Running   166        4d6h
pod/my-nginx                          1/1     Running   1          4d6h
pod/nginx-alpine-volume               2/2     Running   0          5h8m
pod/node-configmap-848b4989fd-rgw9d   1/1     Running   0          60m

NAME                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
service/kubernetes        ClusterIP   10.96.0.1        <none>        443/TCP        8d
service/nginx-clusterip   ClusterIP   10.109.217.179   <none>        8080/TCP       8h
service/nginx-nodeport    NodePort    10.105.221.182   <none>        80:31000/TCP   6h25m

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/node-configmap   1/1     1            1           63m

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/node-configmap-794664596b   0         0         0       63m
replicaset.apps/node-configmap-848b4989fd   1         1         1       60m

NAME                     READY   AGE
statefulset.apps/mongo   1/1     51s
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k exec mongo-0 -it sh
# mongo
MongoDB shell version v4.2.0
connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("416d56a4-6f78-4913-9d98-9cd00873f77a") }
MongoDB server version: 4.2.0
Welcome to the MongoDB shell.
For interactive help, type "help".
For more comprehensive documentation, see
        http://docs.mongodb.org/
Questions? Try the support group
        http://groups.google.com/group/mongodb-user
> exit
bye
# exit
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ k port-forward mongo-0 27019:27017
Forwarding from 127.0.0.1:27019 -> 27017
Forwarding from [::1]:27019 -> 27017
Handling connection for 27019
Handling connection for 27019
Handling connection for 27019
^CMACC02RR83AG8WP:SecretsExample vijayvepakomma$ k exec mongo-0 -it sh
# ls /etc/db-passwords
db-password  db-root-password
# exit
MACC02RR83AG8WP:SecretsExample vijayvepakomma$ 